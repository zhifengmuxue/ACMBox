# 字符串输入大全

## 一、字符串输入

getchar();一个一个输入，碰到空格直接跳走

### 1️⃣ 输入**不含空格**的字符串（最常见）

```
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s;
    cin >> s;
    cout << s << endl;
}
```

### 特点

- 以**空白符（空格 / 回车 / Tab）**作为结束
- 适合：
  - 单词
  - 文件名
  - 标识符

------

## 二、输入**一整行字符串（可包含空格）**

### 2️⃣ `getline`（强烈推荐）

```
#include <iostream>
#include <string>
using namespace std;

int main() {
    string s;
    getline(cin, s);
    cout << s << endl;
}
```

### 特点

- 读取**一整行**
- 可以包含空格
- 常用于：
  - 句子
  - 地址
  - 含空格的输入

------

## 三、`cin` 和 `getline` 混用时的坑（很重要）

如果你**先用 `cin` 再用 `getline`**，必须处理残留的换行符。

### ❌ 错误写法

```
int n;
string s;
cin >> n;
getline(cin, s);   // 直接读到空行
```

### ✅ 正确写法

```
int n;
string s;
cin >> n;
cin.ignore();      // 忽略残留的 '\n'或者用getchar()吸收
getline(cin, s);
```

或者更保险：

```
cin.ignore(numeric_limits<streamsize>::max(), '\n');
```

------

## 四、C 风格字符串（不推荐，但你可能会遇到）

### 4️⃣ `char[] + cin`

```
char s[100];
cin >> s;
```

- 不安全（可能越界）
- 不支持空格
- **竞赛中已不推荐**

------

### 5️⃣ `char[] + fgets`（C 风格整行）

```
char s[100];
fgets(s, sizeof(s), stdin);
```

- 可以读空格
- 结尾包含 `\n`
- C 风格写法，C++ 中不推荐